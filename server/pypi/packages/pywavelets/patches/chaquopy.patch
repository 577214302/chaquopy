--- src-original/setup.py	2019-10-19 08:15:34.000000000 +0000
+++ src/setup.py	2022-10-04 21:19:55.423152993 +0000
@@ -179,6 +179,10 @@
                   'macros': c_macros, })
 
 def get_ext_modules(use_cython):
+    # Chaquopy
+    import builtins
+    builtins.__NUMPY_SETUP__ = True  # Prevent the compiled parts from being imported.
+
     from numpy import get_include as get_numpy_include
     cython_modules, cython_sources = get_cython_sources(use_cython)
     ext_modules = [
